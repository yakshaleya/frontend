import{a as C,r as J}from"./react-0f91dd3b.js";import{c as we}from"./classnames-e069dd25.js";import{P as H}from"./prop-types-debfe51f.js";import{r as se}from"./reduce-css-calc-791c0762.js";import{m as be}from"./lodash-1fc8abda.js";var le=Math.PI,ce=2*le,I=1e-6,Te=ce-I;function de(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _e(){return new de}de.prototype=_e.prototype={constructor:de,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,a){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+a)},bezierCurveTo:function(e,t,n,a,s,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +a+","+(this._x1=+s)+","+(this._y1=+o)},arcTo:function(e,t,n,a,s){e=+e,t=+t,n=+n,a=+a,s=+s;var o=this._x1,c=this._y1,r=n-e,u=a-t,i=o-e,p=c-t,l=i*i+p*p;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(l>I)if(!(Math.abs(p*r-u*i)>I)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var d=n-o,x=a-c,m=r*r+u*u,R=d*d+x*x,g=Math.sqrt(m),_=Math.sqrt(l),A=s*Math.tan((le-Math.acos((m+l-R)/(2*g*_)))/2),w=A/_,v=A/g;Math.abs(w-1)>I&&(this._+="L"+(e+w*i)+","+(t+w*p)),this._+="A"+s+","+s+",0,0,"+ +(p*d>i*x)+","+(this._x1=e+v*r)+","+(this._y1=t+v*u)}},arc:function(e,t,n,a,s,o){e=+e,t=+t,n=+n,o=!!o;var c=n*Math.cos(a),r=n*Math.sin(a),u=e+c,i=t+r,p=1^o,l=o?a-s:s-a;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+i:(Math.abs(this._x1-u)>I||Math.abs(this._y1-i)>I)&&(this._+="L"+u+","+i),n&&(l<0&&(l=l%ce+ce),l>Te?this._+="A"+n+","+n+",0,1,"+p+","+(e-c)+","+(t-r)+"A"+n+","+n+",0,1,"+p+","+(this._x1=u)+","+(this._y1=i):l>I&&(this._+="A"+n+","+n+",0,"+ +(l>=le)+","+p+","+(this._x1=e+n*Math.cos(s))+","+(this._y1=t+n*Math.sin(s))))},rect:function(e,t,n,a){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +a+"h"+-n+"Z"},toString:function(){return this._}};function O(e){return function(){return e}}var me=Math.abs,P=Math.atan2,D=Math.cos,$e=Math.max,ue=Math.min,W=Math.sin,z=Math.sqrt,S=1e-12,B=Math.PI,Y=B/2,U=2*B;function Pe(e){return e>1?0:e<-1?B:Math.acos(e)}function ye(e){return e>=1?Y:e<=-1?-Y:Math.asin(e)}function Oe(e){return e.innerRadius}function Se(e){return e.outerRadius}function je(e){return e.startAngle}function Ne(e){return e.endAngle}function Ee(e){return e&&e.padAngle}function We(e,t,n,a,s,o,c,r){var u=n-e,i=a-t,p=c-s,l=r-o,d=l*u-p*i;if(!(d*d<S))return d=(p*(t-o)-l*(e-s))/d,[e+d*u,t+d*i]}function Q(e,t,n,a,s,o,c){var r=e-n,u=t-a,i=(c?o:-o)/z(r*r+u*u),p=i*u,l=-i*r,d=e+p,x=t+l,m=n+p,R=a+l,g=(d+m)/2,_=(x+R)/2,A=m-d,w=R-x,v=A*A+w*w,T=s-o,M=d*R-m*x,j=(w<0?-1:1)*z($e(0,T*T*v-M*M)),N=(M*w-A*j)/v,y=(-M*A-w*j)/v,b=(M*w+A*j)/v,$=(-M*A+w*j)/v,f=N-g,h=y-_,E=b-g,F=$-_;return f*f+h*h>E*E+F*F&&(N=b,y=$),{cx:N,cy:y,x01:-p,y01:-l,x11:N*(s/T-1),y11:y*(s/T-1)}}function Le(){var e=Oe,t=Se,n=O(0),a=null,s=je,o=Ne,c=Ee,r=null;function u(){var i,p,l=+e.apply(this,arguments),d=+t.apply(this,arguments),x=s.apply(this,arguments)-Y,m=o.apply(this,arguments)-Y,R=me(m-x),g=m>x;if(r||(r=i=_e()),d<l&&(p=d,d=l,l=p),!(d>S))r.moveTo(0,0);else if(R>U-S)r.moveTo(d*D(x),d*W(x)),r.arc(0,0,d,x,m,!g),l>S&&(r.moveTo(l*D(m),l*W(m)),r.arc(0,0,l,m,x,g));else{var _=x,A=m,w=x,v=m,T=R,M=R,j=c.apply(this,arguments)/2,N=j>S&&(a?+a.apply(this,arguments):z(l*l+d*d)),y=ue(me(d-l)/2,+n.apply(this,arguments)),b=y,$=y,f,h;if(N>S){var E=ye(N/l*W(j)),F=ye(N/d*W(j));(T-=E*2)>S?(E*=g?1:-1,w+=E,v-=E):(T=0,w=v=(x+m)/2),(M-=F*2)>S?(F*=g?1:-1,_+=F,A-=F):(M=0,_=A=(x+m)/2)}var k=d*D(_),q=d*W(_),K=l*D(v),G=l*W(v);if(y>S){var X=d*D(A),Z=d*W(A),ee=l*D(w),te=l*W(w),V;if(R<B&&(V=We(k,q,ee,te,X,Z,K,G))){var ne=k-V[0],re=q-V[1],ie=X-V[0],ae=Z-V[1],pe=1/W(Pe((ne*ie+re*ae)/(z(ne*ne+re*re)*z(ie*ie+ae*ae)))/2),ve=z(V[0]*V[0]+V[1]*V[1]);b=ue(y,(l-ve)/(pe-1)),$=ue(y,(d-ve)/(pe+1))}}M>S?$>S?(f=Q(ee,te,k,q,d,$,g),h=Q(X,Z,K,G,d,$,g),r.moveTo(f.cx+f.x01,f.cy+f.y01),$<y?r.arc(f.cx,f.cy,$,P(f.y01,f.x01),P(h.y01,h.x01),!g):(r.arc(f.cx,f.cy,$,P(f.y01,f.x01),P(f.y11,f.x11),!g),r.arc(0,0,d,P(f.cy+f.y11,f.cx+f.x11),P(h.cy+h.y11,h.cx+h.x11),!g),r.arc(h.cx,h.cy,$,P(h.y11,h.x11),P(h.y01,h.x01),!g))):(r.moveTo(k,q),r.arc(0,0,d,_,A,!g)):r.moveTo(k,q),!(l>S)||!(T>S)?r.lineTo(K,G):b>S?(f=Q(K,G,X,Z,l,-b,g),h=Q(k,q,ee,te,l,-b,g),r.lineTo(f.cx+f.x01,f.cy+f.y01),b<y?r.arc(f.cx,f.cy,b,P(f.y01,f.x01),P(h.y01,h.x01),!g):(r.arc(f.cx,f.cy,b,P(f.y01,f.x01),P(f.y11,f.x11),!g),r.arc(0,0,l,P(f.cy+f.y11,f.cx+f.x11),P(h.cy+h.y11,h.cx+h.x11),g),r.arc(h.cx,h.cy,b,P(h.y11,h.x11),P(h.y01,h.x01),!g))):r.arc(0,0,l,v,w,g)}if(r.closePath(),i)return r=null,i+""||null}return u.centroid=function(){var i=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-B/2;return[D(p)*i,W(p)*i]},u.innerRadius=function(i){return arguments.length?(e=typeof i=="function"?i:O(+i),u):e},u.outerRadius=function(i){return arguments.length?(t=typeof i=="function"?i:O(+i),u):t},u.cornerRadius=function(i){return arguments.length?(n=typeof i=="function"?i:O(+i),u):n},u.padRadius=function(i){return arguments.length?(a=i==null?null:typeof i=="function"?i:O(+i),u):a},u.startAngle=function(i){return arguments.length?(s=typeof i=="function"?i:O(+i),u):s},u.endAngle=function(i){return arguments.length?(o=typeof i=="function"?i:O(+i),u):o},u.padAngle=function(i){return arguments.length?(c=typeof i=="function"?i:O(+i),u):c},u.context=function(i){return arguments.length?(r=i??null,u):r},u}function Ve(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function He(e){return e}function Ce(){var e=He,t=Ve,n=null,a=O(0),s=O(U),o=O(0);function c(r){var u,i=r.length,p,l,d=0,x=new Array(i),m=new Array(i),R=+a.apply(this,arguments),g=Math.min(U,Math.max(-U,s.apply(this,arguments)-R)),_,A=Math.min(Math.abs(g)/i,o.apply(this,arguments)),w=A*(g<0?-1:1),v;for(u=0;u<i;++u)(v=m[x[u]=u]=+e(r[u],u,r))>0&&(d+=v);for(t!=null?x.sort(function(T,M){return t(m[T],m[M])}):n!=null&&x.sort(function(T,M){return n(r[T],r[M])}),u=0,l=d?(g-i*w)/d:0;u<i;++u,R=_)p=x[u],v=m[p],_=R+(v>0?v*l:0)+w,m[p]={data:r[p],index:u,value:v,startAngle:R,endAngle:_,padAngle:A};return m}return c.value=function(r){return arguments.length?(e=typeof r=="function"?r:O(+r),c):e},c.sortValues=function(r){return arguments.length?(t=r,n=null,c):t},c.sort=function(r){return arguments.length?(n=r,t=null,c):n},c.startAngle=function(r){return arguments.length?(a=typeof r=="function"?r:O(+r),c):a},c.endAngle=function(r){return arguments.length?(s=typeof r=="function"?r:O(+r),c):s},c.padAngle=function(r){return arguments.length?(o=typeof r=="function"?r:O(+r),c):o},c}function L(e,t){e(t)}function Fe(e){var t=e===void 0?{}:e,n=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.startAngle,c=t.endAngle,r=t.padAngle,u=t.padRadius,i=Le();return n!=null&&L(i.innerRadius,n),a!=null&&L(i.outerRadius,a),s!=null&&L(i.cornerRadius,s),o!=null&&L(i.startAngle,o),c!=null&&L(i.endAngle,c),r!=null&&L(i.padAngle,r),u!=null&&L(i.padRadius,u),i}function De(e){var t=e===void 0?{}:e,n=t.startAngle,a=t.endAngle,s=t.padAngle,o=t.value,c=t.sort,r=t.sortValues,u=Ce();return(c===null||c!=null)&&u.sort(c),(r===null||r!=null)&&u.sortValues(r),o!=null&&u.value(o),s!=null&&L(u.padAngle,s),n!=null&&L(u.startAngle,n),a!=null&&L(u.endAngle,a),u}var Ie=["top","left","transform","className","children","innerRef"];function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fe.apply(this,arguments)}function ke(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,o;for(o=0;o<a.length;o++)s=a[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Me(e){var t=e.top,n=t===void 0?0:t,a=e.left,s=a===void 0?0:a,o=e.transform,c=e.className,r=e.children,u=e.innerRef,i=ke(e,Ie);return C.createElement("g",fe({ref:u,className:we("visx-group",c),transform:o||"translate("+s+", "+n+")"},i),r)}Me.propTypes={top:H.number,left:H.number,transform:H.string,className:H.string,children:H.node,innerRef:H.oneOfType([H.string,H.func,H.object])};var qe=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},he.apply(this,arguments)}function ze(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,o;for(o=0;o<a.length;o++)s=a[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function rt(e){var t=e.className,n=e.top,a=e.left,s=e.data,o=s===void 0?[]:s,c=e.centroid,r=e.innerRadius,u=r===void 0?0:r,i=e.outerRadius,p=e.cornerRadius,l=e.startAngle,d=e.endAngle,x=e.padAngle,m=e.padRadius,R=e.pieSort,g=e.pieSortValues,_=e.pieValue,A=e.children,w=e.fill,v=w===void 0?"":w,T=ze(e,qe),M=Fe({innerRadius:u,outerRadius:i,cornerRadius:p,padRadius:m}),j=De({startAngle:l,endAngle:d,padAngle:x,value:_,sort:R,sortValues:g}),N=j(o);return A?C.createElement(C.Fragment,null,A({arcs:N,path:M,pie:j})):C.createElement(Me,{className:"visx-pie-arcs-group",top:n,left:a},N.map(function(y,b){return C.createElement("g",{key:"pie-arc-"+b},C.createElement("path",he({className:we("visx-pie-arc",t),d:M(y)||"",fill:v==null||typeof v=="string"?v:v(y)},T)),c==null?void 0:c(M.centroid(y),y))}))}var xe="__react_svg_text_measurement_id";function Be(e,t){try{var n=document.getElementById(xe);if(!n){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("aria-hidden","true"),a.style.width="0",a.style.height="0",a.style.position="absolute",a.style.top="-100%",a.style.left="-100%",n=document.createElementNS("http://www.w3.org/2000/svg","text"),n.setAttribute("id",xe),a.appendChild(n),document.body.appendChild(a)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch{return null}}const Ae=be(Be,function(e,t){return e+"_"+JSON.stringify(t)});var Ke=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function Ge(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,o;for(o=0;o<a.length;o++)s=a[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function oe(e){return typeof e=="number"}function Re(e){return typeof e=="number"&&Number.isFinite(e)||typeof e=="string"}function Xe(e){var t=e.verticalAnchor,n=t===void 0?"end":t,a=e.scaleToFit,s=a===void 0?!1:a,o=e.angle,c=e.width,r=e.lineHeight,u=r===void 0?"1em":r,i=e.capHeight,p=i===void 0?"0.71em":i,l=e.children,d=e.style,x=Ge(e,Ke),m=x.x,R=m===void 0?0:m,g=x.y,_=g===void 0?0:g,A=!Re(R)||!Re(_),w=J.useMemo(function(){var y=l==null?[]:l.toString().split(/(?:(?!\u00A0+)\s+)/);return{wordsWithWidth:y.map(function(b){return{word:b,wordWidth:Ae(b,d)||0}}),spaceWidth:Ae("Â ",d)||0}},[l,d]),v=w.wordsWithWidth,T=w.spaceWidth,M=J.useMemo(function(){return A?[]:c||s?v.reduce(function(y,b){var $=b.word,f=b.wordWidth,h=y[y.length-1];if(h&&(c==null||s||(h.width||0)+f+T<c))h.words.push($),h.width=h.width||0,h.width+=f+T;else{var E={words:[$],width:f};y.push(E)}return y},[]):[{words:l==null?[]:l.toString().split(/(?:(?!\u00A0+)\s+)/)}]},[A,c,s,l,v,T]),j=J.useMemo(function(){var y=A?"":n==="start"?se("calc("+p+")"):n==="middle"?se("calc("+(M.length-1)/2+" * -"+u+" + ("+p+" / 2))"):se("calc("+(M.length-1)+" * -"+u+")");return y},[A,n,p,M.length,u]),N=J.useMemo(function(){var y=[];if(A)return"";if(oe(R)&&oe(_)&&oe(c)&&s&&M.length>0){var b=M[0].width||1,$=s==="shrink-only"?Math.min(c/b,1):c/b,f=$,h=R-$*R,E=_-f*_;y.push("matrix("+$+", 0, 0, "+f+", "+h+", "+E+")")}return o&&y.push("rotate("+o+", "+R+", "+_+")"),y.length>0?y.join(" "):""},[A,R,_,c,s,M,o]);return{wordsByLines:M,startDy:j,transform:N}}var Ze=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ge.apply(this,arguments)}function Je(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,o;for(o=0;o<a.length;o++)s=a[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var Qe={overflow:"visible"};function it(e){var t=e.dx,n=t===void 0?0:t,a=e.dy,s=a===void 0?0:a,o=e.textAnchor,c=o===void 0?"start":o,r=e.innerRef,u=e.innerTextRef;e.verticalAnchor,e.angle;var i=e.lineHeight,p=i===void 0?"1em":i;e.scaleToFit,e.capHeight,e.width;var l=Je(e,Ze),d=l.x,x=d===void 0?0:d,m=l.fontSize,R=Xe(e),g=R.wordsByLines,_=R.startDy,A=R.transform;return C.createElement("svg",{ref:r,x:n,y:s,fontSize:m,style:Qe},g.length>0?C.createElement("text",ge({ref:u,transform:A},l,{textAnchor:c}),g.map(function(w,v){return C.createElement("tspan",{key:v,x,dy:v===0?_:p},w.words.join(" "))})):null)}export{Me as G,rt as P,it as T};
